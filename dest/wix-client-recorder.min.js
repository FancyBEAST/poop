!function(){"use strict";function a(a){d("move",a.pageX,a.pageY)}function b(a){d("click",a.pageX,a.pageY)}function c(){d("scroll",window.scrollX,window.scrollY)}function d(a,b,c){s.push({type:a,x:b,y:c,time:Date.now()})}function e(){s=[],t=0,u=0}function f(){q("Recording started"),e(),document.addEventListener("mousemove",a),document.addEventListener("click",b),document.addEventListener("scroll",c)}function g(){q("Recording stopped"),document.removeEventListener("mousemove",a),document.removeEventListener("click",b),document.removeEventListener("scroll",c)}function h(a,b){for(var c=document.elementFromPoint(a,b);c&&!c.click;)c=c.parentNode;c&&c.click&&c.click()}function i(a){a=a||s,g(),q("Playing recording with",a.length,"steps"),m();var b,c,d=0,e=a.length;!function f(){c=a[d],"move"===c.type&&l(c.x,c.y),"click"===c.type&&h(c.x,c.y),"scroll"===c.type&&window.scrollTo(c.x,c.y),t=u,u=c.time,d++,d===e?(q("Finished playing recording"),window.clearTimeout(b),n()):b=window.setTimeout(f,u-t)}()}function j(){console.table(s)}function k(){var a=document.createElement("div");return a.style.borderRadius="50%",a.style.background="red",a.style.width="10px",a.style.height="10px",a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.zIndex=999,a}function l(a,b){v.style.left=a+"px",v.style.top=b+"px"}function m(){document.body.appendChild(v)}function n(){document.body.removeChild(v)}function o(){return s}function p(a){w=a}function q(){w&&r(arguments)}function r(a){var b=Array.prototype.slice.call(a),c=(new Date).toString();console.log.apply(console,[c].concat(b))}var s,t,u,v=k(),w=!1;window.Recorder={start:f,stop:g,play:i,print:j,getSteps:o,setDebug:p}}();