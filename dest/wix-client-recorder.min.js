!function(){"use strict";function a(a){d("move",a.pageX,a.pageY)}function b(a){d("click",a.pageX,a.pageY)}function c(){d("scroll",window.scrollX,window.scrollY)}function d(a,b,c){t.push({type:a,x:b,y:c,time:Date.now()})}function e(){t=[],u=0,v=0}function f(){r("Recording started"),e(),c(),document.addEventListener("mousemove",a),document.addEventListener("click",b),document.addEventListener("scroll",c)}function g(){r("Recording stopped"),document.removeEventListener("mousemove",a),document.removeEventListener("click",b),document.removeEventListener("scroll",c)}function h(a,b){for(var c=document.elementFromPoint(a,b);c&&!c.click;)c=c.parentNode;c&&c.click&&c.click()}function i(a){a=a||t,g(),r("Playing recording with",a.length,"steps"),n();var b,c,d=0,e=a.length;!function f(){c=a[d],"move"===c.type&&m(c.x,c.y),"click"===c.type&&h(c.x,c.y),"scroll"===c.type&&window.scrollTo(c.x,c.y),u=v,v=c.time,d++,d===e?(r("Finished playing recording"),window.clearTimeout(b),o()):b=window.setTimeout(f,v-u)}()}function j(){console.table(p())}function k(){console.log(JSON.stringify(p()))}function l(){var a=document.createElement("div");return a.style.borderRadius="50%",a.style.background="red",a.style.width="10px",a.style.height="10px",a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.zIndex=999,a}function m(a,b){w.style.left=a+"px",w.style.top=b+"px"}function n(){document.body.appendChild(w)}function o(){document.body.removeChild(w)}function p(){return t}function q(a){x=a}function r(){x&&s(arguments)}function s(a){var b=Array.prototype.slice.call(a),c=(new Date).toString();console.log.apply(console,[c].concat(b))}var t,u,v,w=l(),x=!1;window.Recorder={start:f,stop:g,play:i,printTable:j,printJson:k,getSteps:p,setDebug:q}}();